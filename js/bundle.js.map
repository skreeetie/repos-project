{"version":3,"file":"./js/bundle.js","mappings":"mBAEA,MAAMA,EAAQC,SAASC,cAAc,WAC/BC,EAAOF,SAASC,cAAc,sBAC9BE,EAAYH,SAASC,cAAc,+BAsFnCG,EApEWC,CAACC,IACd,IAAIC,EACJ,OAAO,WACHC,aAAaD,GACbA,EAAUE,WAAW,IAAMH,EAAGI,MAAMC,KAAMC,WAgEd,IA/DhC,GA+DcP,CA5DlBQ,iBACE,GAA+D,IAA3Db,SAASc,iBAAiB,sBAAsBC,OAAc,CAChE,MAAMC,EAAShB,SAASc,iBAAiB,sBACzC,IAAK,IAAIG,KAAQD,EACfC,EAAKC,QAET,CACA,GAAI,iBAAiBC,KAAKpB,EAAMqB,MAAMC,QAAS,CAC7C,MAAMC,EAAM,gDAAgDvB,EAAMqB,mBAC5DG,QAjCVV,eAAwBW,GACtB,MAAMC,QAAaC,MAAMF,GACnBG,QAAaF,EAAKG,OAClBC,EAAQ,GACd,GAAIF,EAAKJ,MAAMR,OAAS,EACtB,IAAK,IAAIe,KAAQH,EAAKJ,MAAO,CAC3B,MAAMQ,EAAM,CAAC,EACbA,EAAIC,KAAOF,EAAKE,KAChBD,EAAIE,MAAQH,EAAKG,MAAMC,MACvBH,EAAII,MAAQL,EAAKM,iBACjBP,EAAMQ,KAAKN,EACb,CAEF,OAAOF,CACT,CAmBwBS,CAAShB,GAC7B,GAAqB,IAAjBC,EAAMR,OACR,IAAK,IAAIwB,KAAQhB,EAAO,CACtB,MAAMN,EAAOjB,SAASwC,cAAc,MACpCvB,EAAKwB,UAAUC,IAAI,qBACnBzB,EAAK0B,QAAQR,MAAQI,EAAKJ,MAC1BlB,EAAK0B,QAAQV,MAAQM,EAAKN,MAC1BhB,EAAK2B,YAAcL,EAAKP,KACxB9B,EAAK2C,OAAO5B,EACd,CAEJ,CACF,GAyCAlB,EAAM+C,iBAAiB,QAAS1C,GAChCF,EAAK4C,iBAAiB,QAASC,KAxC/B,SAAgBC,GACd,MAAMlB,EAAO9B,SAASwC,cAAc,MACpCV,EAAKW,UAAUC,IAAI,wBACnB,MAAMO,EAAWjD,SAASwC,cAAc,KACxCS,EAASL,YAAc,SAASI,EAAME,OAAON,cAC7Cd,EAAKe,OAAOI,GACZ,MAAME,EAAYnD,SAASwC,cAAc,KACzCW,EAAUP,YAAc,UAAUI,EAAME,OAAOP,QAAQV,QACvDH,EAAKe,OAAOM,GACZ,MAAMC,EAAYpD,SAASwC,cAAc,KACzCY,EAAUR,YAAc,UAAUI,EAAME,OAAOP,QAAQR,QACvDL,EAAKe,OAAOO,GACZ,MAAMC,EAASrD,SAASwC,cAAc,UACtCa,EAAOZ,UAAUC,IAAI,0BACrB,MAAMY,EAAOtD,SAASwC,cAAc,OAQpC,GAPAc,EAAKC,IAAM,kBACXD,EAAKE,IAAM,SACXF,EAAKG,MAAQ,KACbH,EAAKI,OAAS,KACdL,EAAOR,OAAOS,GACdxB,EAAKe,OAAOQ,GACZlD,EAAU0C,OAAOf,GAC8C,IAA3D9B,SAASc,iBAAiB,sBAAsBC,OAAc,CAChE,MAAMC,EAAShB,SAASc,iBAAiB,sBACzC,IAAK,IAAIG,KAAQD,EACfC,EAAKC,QAET,CACAnB,EAAMqB,MAAQ,EAChB,CAYEuC,CAAOZ,KAGT5C,EAAU2C,iBAAiB,QAASC,IAbpC,IAAoBC,KAcPD,GAbDG,OAAOU,QAAQ,WACvBZ,EAAME,OAAOU,QAAQ,MAAM1C,U","sources":["webpack://js-project/./src/js/index.js"],"sourcesContent":["import '../scss/style.scss';\r\n\r\nconst input = document.querySelector('#search');\r\nconst list = document.querySelector('.search-form__list');\r\nconst reposlist = document.querySelector('.search-section__repos-list');\r\n\r\nasync function getRepos(url) {\r\n  const resp = await fetch(url);\r\n  const data = await resp.json();\r\n  const repos = [];\r\n  if (data.items.length > 0) {\r\n    for (let repo of data.items) {\r\n      const obj = {};\r\n      obj.name = repo.name;\r\n      obj.owner = repo.owner.login;\r\n      obj.stars = repo.stargazers_count;\r\n      repos.push(obj);\r\n    }\r\n  }\r\n  return repos;\r\n}\r\n\r\nconst debounce = (cb, time) => {\r\n    let timeout = undefined;\r\n    return function() {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(() => cb.apply(this, arguments), time);\r\n    }\r\n}\r\n\r\nasync function setList() {\r\n  if (document.querySelectorAll('.search-form__item').length !== 0) {\r\n    const values = document.querySelectorAll('.search-form__item');\r\n    for (let item of values) {\r\n      item.remove();\r\n    }\r\n  }\r\n  if (/[a-zA-Zа-яА-Я]/.test(input.value.trim())) {\r\n    const req = `https://api.github.com/search/repositories?q=${input.value}&per_page=5`;\r\n    const items = await getRepos(req);\r\n    if (items.length !== 0) {\r\n      for (let info of items) {\r\n        const item = document.createElement('li');\r\n        item.classList.add('search-form__item');\r\n        item.dataset.stars = info.stars;\r\n        item.dataset.owner = info.owner;\r\n        item.textContent = info.name;\r\n        list.append(item);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction toList(event) {\r\n  const repo = document.createElement('li');\r\n  repo.classList.add('search-section__item');\r\n  const nameRepo = document.createElement('p');\r\n  nameRepo.textContent = `Name: ${event.target.textContent}`;\r\n  repo.append(nameRepo);\r\n  const ownerRepo = document.createElement('p');\r\n  ownerRepo.textContent = `Owner: ${event.target.dataset.owner}`;\r\n  repo.append(ownerRepo);\r\n  const starsRepo = document.createElement('p');\r\n  starsRepo.textContent = `Stars: ${event.target.dataset.stars}`;\r\n  repo.append(starsRepo);\r\n  const button = document.createElement('button');\r\n  button.classList.add('search-section__button');\r\n  const icon = document.createElement('img');\r\n  icon.src = './img/cross.svg';\r\n  icon.alt = 'Remove';\r\n  icon.width = '46';\r\n  icon.height = '42';\r\n  button.append(icon);\r\n  repo.append(button);\r\n  reposlist.append(repo);\r\n  if (document.querySelectorAll('.search-form__item').length !== 0) {\r\n    const values = document.querySelectorAll('.search-form__item');\r\n    for (let item of values) {\r\n      item.remove();\r\n    }\r\n  }\r\n  input.value = '';\r\n}\r\n\r\nfunction removeRepo(event) {\r\n  if (event.target.closest('button')) {\r\n    event.target.closest('li').remove();\r\n  }\r\n}\r\n\r\nconst setListDn = debounce(setList, 500);\r\n\r\ninput.addEventListener('input', setListDn);\r\nlist.addEventListener('click', evnt => {\r\n  toList(evnt);\r\n});\r\n\r\nreposlist.addEventListener('click', evnt => {\r\n  removeRepo(evnt);\r\n});"],"names":["input","document","querySelector","list","reposlist","setListDn","debounce","cb","timeout","clearTimeout","setTimeout","apply","this","arguments","async","querySelectorAll","length","values","item","remove","test","value","trim","req","items","url","resp","fetch","data","json","repos","repo","obj","name","owner","login","stars","stargazers_count","push","getRepos","info","createElement","classList","add","dataset","textContent","append","addEventListener","evnt","event","nameRepo","target","ownerRepo","starsRepo","button","icon","src","alt","width","height","toList","closest"],"sourceRoot":""}